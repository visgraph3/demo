<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class SparqlEngineDb_Preparator</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class SparqlEngineDb_Preparator</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
															<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">This class takes care of prepared statements:    Preparing them in the database, replacing</p>
	<ul class="tags">
				<li><span class="field">author:</span> Christian Weiske &lt;<a href="mailto:cweiske@cweiske.de">cweiske@cweiske.de</a>&gt;</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_sparql---SparqlEngineDb---Preparator.php.html">/sparql/SparqlEngineDb/Preparator.php</a> (line <span class="field"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a12">12</a></span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>




	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
												<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																										
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#replacePrefix" title="details" class="method-name">replacePrefix</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$strValue</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$arPrefixes</span>)
									</div>
																		
				<div class="method-definition">
											<span class="method-result">SparqlEngineDb_Preparator</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											(<span class="var-type"><a href="../sparql/Query.html">Query</a></span>&nbsp;<span class="var-name">$query</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$dbConn</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#createVariableArray" title="details" class="method-name">createVariableArray</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$arVariablePositions</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$arVariableValues</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#execute" title="details" class="method-name">execute</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$arDbStatements</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$arVariableValues</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#prepareInDb" title="details" class="method-name">prepareInDb</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$arQueries</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$arPlaceholders</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#replacePlaceholders" title="details" class="method-name">replacePlaceholders</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$strQuery</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$arPlaceholders</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#replacePlaceholdersCb" title="details" class="method-name">replacePlaceholdersCb</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$matches</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#replacePlaceholdersWithVariables" title="details" class="method-name">replacePlaceholdersWithVariables</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$strQuery</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$arPlaceholders</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$arVariableValues</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#replacePlaceholdersWithVariablesCb" title="details" class="method-name">replacePlaceholdersWithVariablesCb</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$matches</span>)
									</div>
																			</div>
		</div>
	</div>		

	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodreplacePrefix" id="replacePrefix"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static replacePrefix</span> (line <span class="line-number"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a215">215</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			replacePrefix
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$strValue</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$arPrefixes</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$strValue</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$arPrefixes</span>			</li>
				</ul>
		
			
	</div>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a17">17</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">SparqlEngineDb_Preparator</span>
		<span class="method-name">
			__construct
		</span>
					(<span class="var-type"><a href="../sparql/Query.html">Query</a></span>&nbsp;<span class="var-name">$query</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$dbConn</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"><a href="../sparql/Query.html">Query</a></span>
				<span class="var-name">$query</span>			</li>
					<li>
				<span class="var-type">ADOConnection</span>
				<span class="var-name">$dbConn</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcreateVariableArray" id="createVariableArray"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">createVariableArray</span> (line <span class="line-number"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a153">153</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates an array full of variables to be passed to the Execute() method    of the database connection object.</p>
<p class="description"><p>Uses the variable positions array to get the positions of the variables    in the result array, and the variable value array to get the actual    values for the prepared statement.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Array of variable values</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			createVariableArray
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$arVariablePositions</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$arVariableValues</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$arVariablePositions</span><span class="var-description">: Positions of the variables as returned                                        by replacePlaceholders().</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$arVariableValues</span><span class="var-description">: Array of (variable name, value) pairs</span>			</li>
				</ul>
		
			
	</div>
<a name="methodexecute" id="execute"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">execute</span> (line <span class="line-number"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a119">119</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Executes the given prepared statments, filling the placeholders    with the given values.</p>
	<ul class="tags">
				<li><span class="field">return:</span> Array of database results as returned by Execute()</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			execute
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$arDbStatements</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$arVariableValues</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$arDbStatements</span><span class="var-description">: Return value of prepareInDb()</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$arVariableValues</span><span class="var-description">: Array of (variable name, value) pairs</span>			</li>
				</ul>
		
			
	</div>
<a name="methodprepareInDb" id="prepareInDb"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">prepareInDb</span> (line <span class="line-number"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a39">39</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Converts the given queries into sql prepared statments,</p>
<p class="description"><p>calls the prepare command in the database and returns    an array consisting of subarrays. They contain    the db's prepared statement as first value, and an array    of variable positions as second value (key is the position,    the sparql variable is the value).</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Array of (prepared statment, variable positions) pairs</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			prepareInDb
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$arQueries</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$arPlaceholders</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$arQueries</span><span class="var-description">: Array of sql queries part arrays</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$arPlaceholders</span><span class="var-description">: Array of sparql (variable name =&gt;                                 placeholder name) pairs</span>			</li>
				</ul>
		
			
	</div>
<a name="methodreplacePlaceholders" id="replacePlaceholders"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">replacePlaceholders</span> (line <span class="line-number"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a77">77</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Replaces the placeholders in the given SQL statement with real    SQL prepared statements placeholders.</p>
	<ul class="tags">
				<li><span class="field">return:</span> (prepared sql query string, variable positions) pair</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			replacePlaceholders
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$strQuery</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$arPlaceholders</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$strQuery</span><span class="var-description">: SQL query with placeholders</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$arPlaceholders</span><span class="var-description">: Array of sparql (variable name =&gt;                                 placeholder name) pairs</span>			</li>
				</ul>
		
			
	</div>
<a name="methodreplacePlaceholdersCb" id="replacePlaceholdersCb"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">replacePlaceholdersCb</span> (line <span class="line-number"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a95">95</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Callback method internally used by replacePlaceholders() method.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			replacePlaceholdersCb
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$matches</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$matches</span>			</li>
				</ul>
		
			
	</div>
<a name="methodreplacePlaceholdersWithVariables" id="replacePlaceholdersWithVariables"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">replacePlaceholdersWithVariables</span> (line <span class="line-number"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a178">178</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Replaces all placeholders with their actual values.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			replacePlaceholdersWithVariables
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$strQuery</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$arPlaceholders</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$arVariableValues</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$strQuery</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$arPlaceholders</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$arVariableValues</span>			</li>
				</ul>
		
			
	</div>
<a name="methodreplacePlaceholdersWithVariablesCb" id="replacePlaceholdersWithVariablesCb"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">replacePlaceholdersWithVariablesCb</span> (line <span class="line-number"><a href="../__filesource/fsource_sparql__sparqlSparqlEngineDbPreparator.php.html#a198">198</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Callback method internally used by    replacePlaceholdersWithVariables() method.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			replacePlaceholdersWithVariablesCb
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$matches</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$matches</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Fri,  1 Jun 2007 16:50:25 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.3.2</a>
	</p>
	</div></body>
</html>
